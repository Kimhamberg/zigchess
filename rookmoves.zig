const eastRaysAt = [64]u64{ 0b0111111100000000000000000000000000000000000000000000000000000000, 0b0011111100000000000000000000000000000000000000000000000000000000, 0b0001111100000000000000000000000000000000000000000000000000000000, 0b0000111100000000000000000000000000000000000000000000000000000000, 0b0000011100000000000000000000000000000000000000000000000000000000, 0b0000001100000000000000000000000000000000000000000000000000000000, 0b0000000100000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000001111111000000000000000000000000000000000000000000000000, 0b0000000000111111000000000000000000000000000000000000000000000000, 0b0000000000011111000000000000000000000000000000000000000000000000, 0b0000000000001111000000000000000000000000000000000000000000000000, 0b0000000000000111000000000000000000000000000000000000000000000000, 0b0000000000000011000000000000000000000000000000000000000000000000, 0b0000000000000001000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000011111110000000000000000000000000000000000000000, 0b0000000000000000001111110000000000000000000000000000000000000000, 0b0000000000000000000111110000000000000000000000000000000000000000, 0b0000000000000000000011110000000000000000000000000000000000000000, 0b0000000000000000000001110000000000000000000000000000000000000000, 0b0000000000000000000000110000000000000000000000000000000000000000, 0b0000000000000000000000010000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000111111100000000000000000000000000000000, 0b0000000000000000000000000011111100000000000000000000000000000000, 0b0000000000000000000000000001111100000000000000000000000000000000, 0b0000000000000000000000000000111100000000000000000000000000000000, 0b0000000000000000000000000000011100000000000000000000000000000000, 0b0000000000000000000000000000001100000000000000000000000000000000, 0b0000000000000000000000000000000100000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000001111111000000000000000000000000, 0b0000000000000000000000000000000000111111000000000000000000000000, 0b0000000000000000000000000000000000011111000000000000000000000000, 0b0000000000000000000000000000000000001111000000000000000000000000, 0b0000000000000000000000000000000000000111000000000000000000000000, 0b0000000000000000000000000000000000000011000000000000000000000000, 0b0000000000000000000000000000000000000001000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000011111110000000000000000, 0b0000000000000000000000000000000000000000001111110000000000000000, 0b0000000000000000000000000000000000000000000111110000000000000000, 0b0000000000000000000000000000000000000000000011110000000000000000, 0b0000000000000000000000000000000000000000000001110000000000000000, 0b0000000000000000000000000000000000000000000000110000000000000000, 0b0000000000000000000000000000000000000000000000010000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000111111100000000, 0b0000000000000000000000000000000000000000000000000011111100000000, 0b0000000000000000000000000000000000000000000000000001111100000000, 0b0000000000000000000000000000000000000000000000000000111100000000, 0b0000000000000000000000000000000000000000000000000000011100000000, 0b0000000000000000000000000000000000000000000000000000001100000000, 0b0000000000000000000000000000000000000000000000000000000100000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000001111111, 0b0000000000000000000000000000000000000000000000000000000000111111, 0b0000000000000000000000000000000000000000000000000000000000011111, 0b0000000000000000000000000000000000000000000000000000000000001111, 0b0000000000000000000000000000000000000000000000000000000000000111, 0b0000000000000000000000000000000000000000000000000000000000000011, 0b0000000000000000000000000000000000000000000000000000000000000001, 0b0000000000000000000000000000000000000000000000000000000000000000 };

const northRaysAt = [64]u64{ 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b1000000000000000000000000000000000000000000000000000000000000000, 0b0100000000000000000000000000000000000000000000000000000000000000, 0b0010000000000000000000000000000000000000000000000000000000000000, 0b0001000000000000000000000000000000000000000000000000000000000000, 0b0000100000000000000000000000000000000000000000000000000000000000, 0b0000010000000000000000000000000000000000000000000000000000000000, 0b0000001000000000000000000000000000000000000000000000000000000000, 0b0000000100000000000000000000000000000000000000000000000000000000, 0b1000000010000000000000000000000000000000000000000000000000000000, 0b0100000001000000000000000000000000000000000000000000000000000000, 0b0010000000100000000000000000000000000000000000000000000000000000, 0b0001000000010000000000000000000000000000000000000000000000000000, 0b0000100000001000000000000000000000000000000000000000000000000000, 0b0000010000000100000000000000000000000000000000000000000000000000, 0b0000001000000010000000000000000000000000000000000000000000000000, 0b0000000100000001000000000000000000000000000000000000000000000000, 0b1000000010000000100000000000000000000000000000000000000000000000, 0b0100000001000000010000000000000000000000000000000000000000000000, 0b0010000000100000001000000000000000000000000000000000000000000000, 0b0001000000010000000100000000000000000000000000000000000000000000, 0b0000100000001000000010000000000000000000000000000000000000000000, 0b0000010000000100000001000000000000000000000000000000000000000000, 0b0000001000000010000000100000000000000000000000000000000000000000, 0b0000000100000001000000010000000000000000000000000000000000000000, 0b1000000010000000100000001000000000000000000000000000000000000000, 0b0100000001000000010000000100000000000000000000000000000000000000, 0b0010000000100000001000000010000000000000000000000000000000000000, 0b0001000000010000000100000001000000000000000000000000000000000000, 0b0000100000001000000010000000100000000000000000000000000000000000, 0b0000010000000100000001000000010000000000000000000000000000000000, 0b0000001000000010000000100000001000000000000000000000000000000000, 0b0000000100000001000000010000000100000000000000000000000000000000, 0b1000000010000000100000001000000010000000000000000000000000000000, 0b0100000001000000010000000100000001000000000000000000000000000000, 0b0010000000100000001000000010000000100000000000000000000000000000, 0b0001000000010000000100000001000000010000000000000000000000000000, 0b0000100000001000000010000000100000001000000000000000000000000000, 0b0000010000000100000001000000010000000100000000000000000000000000, 0b0000001000000010000000100000001000000010000000000000000000000000, 0b0000000100000001000000010000000100000001000000000000000000000000, 0b1000000010000000100000001000000010000000100000000000000000000000, 0b0100000001000000010000000100000001000000010000000000000000000000, 0b0010000000100000001000000010000000100000001000000000000000000000, 0b0001000000010000000100000001000000010000000100000000000000000000, 0b0000100000001000000010000000100000001000000010000000000000000000, 0b0000010000000100000001000000010000000100000001000000000000000000, 0b0000001000000010000000100000001000000010000000100000000000000000, 0b0000000100000001000000010000000100000001000000010000000000000000, 0b1000000010000000100000001000000010000000100000001000000000000000, 0b0100000001000000010000000100000001000000010000000100000000000000, 0b0010000000100000001000000010000000100000001000000010000000000000, 0b0001000000010000000100000001000000010000000100000001000000000000, 0b0000100000001000000010000000100000001000000010000000100000000000, 0b0000010000000100000001000000010000000100000001000000010000000000, 0b0000001000000010000000100000001000000010000000100000001000000000, 0b0000000100000001000000010000000100000001000000010000000100000000 };

const westRaysAt = [64]u64{ 0b0000000010000000100000001000000010000000100000001000000010000000, 0b0000000001000000010000000100000001000000010000000100000001000000, 0b0000000000100000001000000010000000100000001000000010000000100000, 0b0000000000010000000100000001000000010000000100000001000000010000, 0b0000000000001000000010000000100000001000000010000000100000001000, 0b0000000000000100000001000000010000000100000001000000010000000100, 0b0000000000000010000000100000001000000010000000100000001000000010, 0b0000000000000001000000010000000100000001000000010000000100000001, 0b0000000000000000100000001000000010000000100000001000000010000000, 0b0000000000000000010000000100000001000000010000000100000001000000, 0b0000000000000000001000000010000000100000001000000010000000100000, 0b0000000000000000000100000001000000010000000100000001000000010000, 0b0000000000000000000010000000100000001000000010000000100000001000, 0b0000000000000000000001000000010000000100000001000000010000000100, 0b0000000000000000000000100000001000000010000000100000001000000010, 0b0000000000000000000000010000000100000001000000010000000100000001, 0b0000000000000000000000001000000010000000100000001000000010000000, 0b0000000000000000000000000100000001000000010000000100000001000000, 0b0000000000000000000000000010000000100000001000000010000000100000, 0b0000000000000000000000000001000000010000000100000001000000010000, 0b0000000000000000000000000000100000001000000010000000100000001000, 0b0000000000000000000000000000010000000100000001000000010000000100, 0b0000000000000000000000000000001000000010000000100000001000000010, 0b0000000000000000000000000000000100000001000000010000000100000001, 0b0000000000000000000000000000000010000000100000001000000010000000, 0b0000000000000000000000000000000001000000010000000100000001000000, 0b0000000000000000000000000000000000100000001000000010000000100000, 0b0000000000000000000000000000000000010000000100000001000000010000, 0b0000000000000000000000000000000000001000000010000000100000001000, 0b0000000000000000000000000000000000000100000001000000010000000100, 0b0000000000000000000000000000000000000010000000100000001000000010, 0b0000000000000000000000000000000000000001000000010000000100000001, 0b0000000000000000000000000000000000000000100000001000000010000000, 0b0000000000000000000000000000000000000000010000000100000001000000, 0b0000000000000000000000000000000000000000001000000010000000100000, 0b0000000000000000000000000000000000000000000100000001000000010000, 0b0000000000000000000000000000000000000000000010000000100000001000, 0b0000000000000000000000000000000000000000000001000000010000000100, 0b0000000000000000000000000000000000000000000000100000001000000010, 0b0000000000000000000000000000000000000000000000010000000100000001, 0b0000000000000000000000000000000000000000000000001000000010000000, 0b0000000000000000000000000000000000000000000000000100000001000000, 0b0000000000000000000000000000000000000000000000000010000000100000, 0b0000000000000000000000000000000000000000000000000001000000010000, 0b0000000000000000000000000000000000000000000000000000100000001000, 0b0000000000000000000000000000000000000000000000000000010000000100, 0b0000000000000000000000000000000000000000000000000000001000000010, 0b0000000000000000000000000000000000000000000000000000000100000001, 0b0000000000000000000000000000000000000000000000000000000010000000, 0b0000000000000000000000000000000000000000000000000000000001000000, 0b0000000000000000000000000000000000000000000000000000000000100000, 0b0000000000000000000000000000000000000000000000000000000000010000, 0b0000000000000000000000000000000000000000000000000000000000001000, 0b0000000000000000000000000000000000000000000000000000000000000100, 0b0000000000000000000000000000000000000000000000000000000000000010, 0b0000000000000000000000000000000000000000000000000000000000000001, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000 };

const southRaysAt = [64]u64{ 0b0000000010000000100000001000000010000000100000001000000010000000, 0b0000000001000000010000000100000001000000010000000100000001000000, 0b0000000000100000001000000010000000100000001000000010000000100000, 0b0000000000010000000100000001000000010000000100000001000000010000, 0b0000000000001000000010000000100000001000000010000000100000001000, 0b0000000000000100000001000000010000000100000001000000010000000100, 0b0000000000000010000000100000001000000010000000100000001000000010, 0b0000000000000001000000010000000100000001000000010000000100000001, 0b0000000000000000100000001000000010000000100000001000000010000000, 0b0000000000000000010000000100000001000000010000000100000001000000, 0b0000000000000000001000000010000000100000001000000010000000100000, 0b0000000000000000000100000001000000010000000100000001000000010000, 0b0000000000000000000010000000100000001000000010000000100000001000, 0b0000000000000000000001000000010000000100000001000000010000000100, 0b0000000000000000000000100000001000000010000000100000001000000010, 0b0000000000000000000000010000000100000001000000010000000100000001, 0b0000000000000000000000001000000010000000100000001000000010000000, 0b0000000000000000000000000100000001000000010000000100000001000000, 0b0000000000000000000000000010000000100000001000000010000000100000, 0b0000000000000000000000000001000000010000000100000001000000010000, 0b0000000000000000000000000000100000001000000010000000100000001000, 0b0000000000000000000000000000010000000100000001000000010000000100, 0b0000000000000000000000000000001000000010000000100000001000000010, 0b0000000000000000000000000000000100000001000000010000000100000001, 0b0000000000000000000000000000000010000000100000001000000010000000, 0b0000000000000000000000000000000001000000010000000100000001000000, 0b0000000000000000000000000000000000100000001000000010000000100000, 0b0000000000000000000000000000000000010000000100000001000000010000, 0b0000000000000000000000000000000000001000000010000000100000001000, 0b0000000000000000000000000000000000000100000001000000010000000100, 0b0000000000000000000000000000000000000010000000100000001000000010, 0b0000000000000000000000000000000000000001000000010000000100000001, 0b0000000000000000000000000000000000000000100000001000000010000000, 0b0000000000000000000000000000000000000000010000000100000001000000, 0b0000000000000000000000000000000000000000001000000010000000100000, 0b0000000000000000000000000000000000000000000100000001000000010000, 0b0000000000000000000000000000000000000000000010000000100000001000, 0b0000000000000000000000000000000000000000000001000000010000000100, 0b0000000000000000000000000000000000000000000000100000001000000010, 0b0000000000000000000000000000000000000000000000010000000100000001, 0b0000000000000000000000000000000000000000000000001000000010000000, 0b0000000000000000000000000000000000000000000000000100000001000000, 0b0000000000000000000000000000000000000000000000000010000000100000, 0b0000000000000000000000000000000000000000000000000001000000010000, 0b0000000000000000000000000000000000000000000000000000100000001000, 0b0000000000000000000000000000000000000000000000000000010000000100, 0b0000000000000000000000000000000000000000000000000000001000000010, 0b0000000000000000000000000000000000000000000000000000000100000001, 0b0000000000000000000000000000000000000000000000000000000010000000, 0b0000000000000000000000000000000000000000000000000000000001000000, 0b0000000000000000000000000000000000000000000000000000000000100000, 0b0000000000000000000000000000000000000000000000000000000000010000, 0b0000000000000000000000000000000000000000000000000000000000001000, 0b0000000000000000000000000000000000000000000000000000000000000100, 0b0000000000000000000000000000000000000000000000000000000000000010, 0b0000000000000000000000000000000000000000000000000000000000000001, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000, 0b0000000000000000000000000000000000000000000000000000000000000000 };

pub fn getRookMoves(square: usize, blockers: u64) u64 {
    return @ctz(northRaysAt[square] & blockers) | @ctz(westRaysAt[square] & blockers) | @clz(eastRaysAt[square] & blockers) | @clz(southRaysAt[square] & blockers);
}
